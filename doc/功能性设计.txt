*通信部分第一阶段先预留


一、从机：【从机的主要任务是，显示主机发来的各项参数 和 向主机发送用户请求】
main（）
{
    显示从机控制面板；
}
【从控机发送指令生效间隔问题】
设置一个变量持续获取当前时间，用户请求来的时候获取一次时间。
当两次时间差大于1s（可改变）时，跳出死循环发送请求

【所有从机参数由主机发送报文确定，包括当前的室温和风速等】

① 控制面板需要有的内容（子函数）：
1、温度
    环境温度（初始有缺省值、之后根据空调运行情况而定）、目标温度（显示和上下按钮）
    使用按钮调整温度。在调整温度之后，设置一个确认按钮发送目标温度给主机
2、风速
    当前风速、目标风速
    设置三个按钮对应三个风速
    风速能够改变房间温度的变化速率
3、显示
   【这部分的参数变化是由主机控制变化的，从机接收主机数据进行刷新】
   【这段时间从机处于工作状态，其他时候处于待机状态。状态需要显示在从机屏幕上】
4、费用
    接收主机数据显示即可
5、开关
    触发通信，initial（接收主机缺省工作温度，和工作模式）
6、环境温度问题
    从机待机时，温度向空调工作方式反方向变化（制冷就温度上升，制热就温度下降）
    需要写一个控制变化速率的函数
7、初始化
    从机开启时向从机发送初始化参数（将工作模式发送给主机。【初始化时，规定制冷时目标温度为25度，制热时目标温度为20度，风速为中等，主从机在初始化时同时在内部初始化，不需要通信】）

②通信
    compare【温度、风速】（判断温度和风速是否符合主机模式，即是否需要与主机通信）
    结束工作时接收主机发来的总费用
    管理员发出监控请求时，以主机设置的刷新频率，给主机发送当前参数

③双线程工作
一个处理用户请求，并根据请求发送报文（主线程）
一个接收主机发送来的参数，循环监听


二、主机【主要任务是，向各从机发送实时数据，】
①控制面板
1、登录管理员账户
    代码内置账号密码，不走数据库
2、显示和操作
   【按一定时间间隔（该频率与 空调或环境 改变房间温度 的频率 需要保持一致，留好接口可在代码中灵活修改），
    向从机发送从机对应房间的参数，包括当前温度，目标温度，当前风速，目前风速，当前费用，从机工作状态（工作或待机）等】
    各从机状态显示，参数同上
    显示和改变工作模式（制冷或制热）
    开关主机按钮
    
    控制环境温度变化是渐变的
    控制风速达到目标风速的时间，可以用sleep（）实现
3、计费
    需要编写计费函数，根据当前各房间参数计费。
4、初始化
    从机开启时向从机发送初始化参数（将工作模式发送给主机。【初始化时，规定制冷时目标温度为25度，制热时目标温度为20度，风速为中等，主从机在初始化时同时在内部初始化，不需要通信】）

②主机调度
 
③报表
    日报表、周报表、月报表
    内容：房间号、开关机的次数、温控请求起止时间、温控请求的起止温度及风量大小

④双线程工作
一个响应管理人员操作，并根据操作类型向从机发送消息（主线程）
一个接收从机消息，循环监听